@using BTL_QuanLyBanDienThoai.Models.ViewModel;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Create Product Variant";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

@section Title {
                                            Create Product Variant

    <a class="btn btn-outline-primary float-right align-items-center"
       href="/admin/Product-Variants">
        <i class="uil uil-corner-up-left-alt"></i>&nbsp;Back
    </a>
}

@model ProductVariantViewModel

<div class="card">
    <form asp-action="Create" asp-controller="ProductVariant" method="post">
        <div class="card-body">
            <div class="row">
                <div class="form-group col-sm-6">
                    <label>Product Parent:</label>
                    <input type="text" asp-for="Product.Name" class="form-control" disabled>
                </div>

                <div class="form-group col-sm-6">
                    <label asp-for="Name">Name:</label>
                    <input type="text" asp-for="Name" class="form-control" required>
                </div>

                <div class="form-group col-sm-6">
                    <label asp-for="Price">Price:</label>
                    <input type="number" asp-for="Price" class="form-control" required>
                </div>

                <div class="form-group col-sm-6">
                    <label asp-for="Quantity">Quantity:</label>
                    <input type="number" asp-for="Quantity" class="form-control" required>
                </div>

                <div class="form-group col-sm-6" id="option-1">
                    <label>Attribute 1: <span class="index-1"></span></label>
                    <select class="form-control" id="attribute_1" name="attribute_id_1">
                        <option>Select a attribute</option>
                        @foreach (var attr in Model.resultDict)
                        {
                            <option value="@attr.Key"> @attr.Key </option>
                        }
                    </select>
                </div>
                <div class="col-sm-6" id="option-2">
                    <label>Attribute 1 Value: <span class="index-1"></span></label>
                    <select class="form-control" id="attribute_1_value" name="attribute_1_value">
                        <option>Select a attribute value</option>
                        @foreach (var attr in Model.resultDict)
                        {
                            @foreach (var val in @attr.Value)
                            {
                                <option class="d-none @attr.Key" value="@val.Value"> @val.Key </option>
                            }
                        }
                    </select>
                </div>

                <div class="form-group col-sm-6">
                    <label>Attribute 2: <span class="index-2"></span></label>
                    <select class="form-control" id="attribute_2" name="attribute_id_2">
                        <option>Select a attribute</option>
                        @foreach (var attr in Model.resultDict)
                        {
                            <option value="@attr.Key"> @attr.Key </option>
                        }
                    </select>
                </div>
                <div class="col-sm-6">
                    <label>Attribute 2 Value: <span class="index-2"></span></label>
                    <select class="form-control" id="attribute_2_value" name="attribute_2_value">
                        <option>Select a attribute value</option>
                        @foreach (var attr in Model.resultDict)
                        {
                            @foreach (var val in @attr.Value)
                            {
                                <option class="d-none @attr.Key" value="@val.Value"> @val.Key </option>
                            }
                        }
                    </select>
                </div>
            </div>
        </div>
        <div class="card-footer float-right border-0 bg-transparent">
            <button type="submit" class="btn btn-primary">Create</button>
        </div>
    </form>
</div>



@section Scripts {
    <script>
        $(document).ready(function () {
            $('#attribute_1').on('change', function () {
                $("#attribute_1_value option").addClass("d-none");
                var key = $("#attribute_1 option:selected").attr("value");
                $("#attribute_1_value option." + key).removeClass("d-none");
            });

            $('#attribute_2').on('change', function () {
                $("#attribute_2_value option").addClass("d-none");
                var key = $("#attribute_2 option:selected").attr("value");
                $("#attribute_2_value option." + key).removeClass("d-none");
            });
        });
    </script>
}